(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{45:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(19),c=n.n(a),u=n(10),o=n(20),i=n(1),s=n.n(i),p=n(4),f=n(6),l=n(0),j=function(t){var e=t.note,n=t.toggleImportance,r=e.important?"make not important":"make important";return Object(l.jsxs)("li",{children:[e.content,Object(l.jsx)("button",{onClick:n,children:r})]})},b=n(8),d=n.n(b),h="https://guarded-lowlands-68345.herokuapp.com/",v={getAll:function(){var t=Object(p.a)(s.a.mark((function t(){var e,n,r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(h);case 2:return e=t.sent,n=e.data,r={id:1e4,content:"This note is not saved to server",date:"2019-05-30T17:30:31.098Z",important:!0},a=n.concat(r),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),create:function(){var t=Object(p.a)(s.a.mark((function t(e){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post(h,e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),update:function(){var t=Object(p.a)(s.a.mark((function t(e,n){var r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.put("".concat(h,"/").concat(e),n);case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},O=function(t){var e=t.message;return null===e?null:Object(l.jsx)("div",{className:"error",children:e})},m=function(){return Object(l.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:16},children:[Object(l.jsx)("br",{}),Object(l.jsx)("em",{children:"Note app, Department of Computer Science, University of Helsinki 2020"})]})},x=function(t){var e=Object(r.useState)([]),n=Object(f.a)(e,2),a=n[0],c=n[1],i=Object(r.useState)(""),b=Object(f.a)(i,2),d=b[0],h=b[1],x=Object(r.useState)(!0),w=Object(f.a)(x,2),g=w[0],k=w[1],y=Object(r.useState)(null),S=Object(f.a)(y,2),C=S[0],I=S[1];Object(r.useEffect)((function(){(function(){var t=Object(p.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getAll();case 2:e=t.sent,c(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var T=function(){var t=Object(p.a)(s.a.mark((function t(e){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n={content:d,date:(new Date).toISOString(),important:!1},t.next=4,v.create(n);case 4:r=t.sent,c([].concat(Object(o.a)(a),[r])),h("");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=g?a:a.filter((function(t){return t.important})),N=function(){var t=Object(p.a)(s.a.mark((function t(e){var n,r,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.find((function(t){return t.id===e})),r=Object(u.a)(Object(u.a)({},n),{},{important:!n.important}),t.prev=2,t.next=5,v.update(e,r);case 5:o=t.sent,i=a.map((function(t){return t.id===e?o:t})),c(i),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),I("The note has already been deleted from the server"),setTimeout((function(){I(null)}),5e3),c(a.filter((function(t){return t.id!==e})));case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Notes"}),Object(l.jsx)(O,{message:C}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){return k(!g)},children:g?"Show important":"Show all"})}),Object(l.jsx)("ul",{children:D.map((function(t){return Object(l.jsx)(j,{note:t,toggleImportance:function(){return N(t.id)}},t.id)}))}),Object(l.jsxs)("form",{onSubmit:T,children:[Object(l.jsx)("input",{type:"text",value:d,onChange:function(t){return h(t.target.value)}}),Object(l.jsx)("button",{type:"submit",children:"Save"})]}),Object(l.jsx)(m,{})]})};n(45);c.a.render(Object(l.jsx)(x,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.bfc06f89.chunk.js.map